!function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/build/",i(i.s=6)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var a=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.timerDOM=t,this.delay=i,this.isOn=!1,this.time=0,this.interval=null,this.offset=null}return n(e,[{key:"start",value:function(){var e=this;this.isOn||(this.timerDOM.style.visibility="visible",this.interval=setInterval(function(){return e.update()},this.delay),this.offset=Date.now(),this.isOn=!0)}},{key:"stop",value:function(){this.isOn&&(clearInterval(this.interval),this.interval=null,this.isOn=!1)}},{key:"hide",value:function(){this.stop(),this.reset(),this.timerDOM.style.visibility="hidden"}},{key:"reset",value:function(){this.time=0,this.update()}},{key:"delta",value:function(){var e=Date.now(),t=e-this.offset;return this.offset=e,t}},{key:"update",value:function(){this.isOn&&(this.time+=this.delta());var e=this.timeFormater();this.timerDOM.textContent=e}},{key:"timeFormater",value:function(){var e=new Date(this.time),t=e.getMinutes().toString(),i=e.getSeconds().toString(),n=e.getMilliseconds().toString();for(t.length<2&&(t="0"+t),i.length<2&&(i="0"+i);n.length<3;)n="0"+n;return t+" : "+i+" . "+n}}]),e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var a=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.value=t,this.cardDOM=i}return n(e,[{key:"show",value:function(){this.setAnimation("flipIn")}},{key:"hide",value:function(e){var t=this,i=void 0;e?(this.setAnimation("flipInOut"),i=2e3):(this.setAnimation("flipOut"),i=1e3),setTimeout(function(){t.cardDOM.dataset.animationStyle="none"},i)}},{key:"remove",value:function(e){e?this.setAnimation("showAndRemove"):this.setAnimation("getOut")}},{key:"setAnimation",value:function(e){this.cardDOM.dataset.animationStyle="none","showAndRemove"===e&&(this.cardDOM.style.visibility="hidden"),this.offsetWidth,this.cardDOM.dataset.animationStyle=e}}]),e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=s(i(1)),r=s(i(0));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){var i=t.cardShortName,n=t.width,a=t.height;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gameFieldDOM=document.querySelector(".game_field"),this.cardShortName=i,this.countOfCards=n*a,this.cardTocompare=void 0,this.gameTimer=new r.default(document.querySelector(".timer"),40),this.imgs=["brint","curry","davis","duncan","granger","griffin","harden","iguodala","irving","jordan","mello","nowitzky","rose","wade","wall"]}return n(e,[{key:"fill",value:function(){var e=this;this.setShirtCard(this.cardShortName);var t=document.createElement("div");t.className="game_field__card",t.dataset.animationStyle="none",this.generateRandomValues().forEach(function(i){var n=t.cloneNode(!0);n.classList.add("card_"+e.imgs[i]),e.gameFieldDOM.appendChild(n)}),this.clickOnCard=this.clickOnCard.bind(this),this.clickOnCard.isItfirstClick=!0,this.gameFieldDOM.addEventListener("click",this.clickOnCard)}},{key:"compare",value:function(e){var t=e.classList[1],i=t.slice(t.indexOf("_")+1),n=new a.default(this.imgs.indexOf(i),e);switch(this.cardTocompare){case void 0:this.cardTocompare=n,n.show();break;default:this.cardTocompare.value===n.value&&this.cardTocompare.cardDOM!==n.cardDOM?(this.countOfCards+=-2,n.remove(!0),this.cardTocompare.remove(!1)):this.cardTocompare.value!==n.value?(n.hide(!0),this.cardTocompare.hide(!1)):n.hide(!1),this.cardTocompare=void 0}this.countOfCards||this.gameTimer.stop()}},{key:"runGameTimer",value:function(){this.gameTimer.timerDOM.style.visibility="visible",this.gameTimer.start()}},{key:"clickOnCard",value:function(e){this.clickOnCard.isItfirstClick&&(this.runGameTimer(),this.clickOnCard.isItfirstClick=!1);var t=e.target;t.classList.contains("game_field__card")&&this.compare(t)}},{key:"generateRandomValues",value:function(){return Array.from({length:this.countOfCards},function(e,t){return Math.floor(t/2)}).sort(function(){return Math.random()-.5})}},{key:"generateCardsStyles",value:function(){var e=document.createElement("style");e.type="text/css",document.getElementsByTagName("head")[0].appendChild(e),this.imgs.forEach(function(t,i){var n="--card-front: url('../resources/img/cards-fronts/"+t+".jpg');";e.sheet.insertRule(".card_"+t+" {"+n+"}",i)})}},{key:"setShirtCard",value:function(e){this.gameFieldDOM.style.setProperty("--card-shirt",'url("../resources/img/shirts/'+e+'.png")')}}]),e}();t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(2),s=(n=r)&&n.__esModule?n:{default:n};var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gameField=null,this.settings={gameField:null}}return a(e,[{key:"start",value:function(){var e=document.querySelector(".difficultys__item--active").dataset;this.settings.gameField={width:e.countOfColumns,height:e.countOfRows,cardShortName:document.querySelector(".shirts__item--active").dataset.shirtName},this.createGameField(),this.gameField.generateCardsStyles()}},{key:"createGameField",value:function(){var e=document.createElement("div");e.className="game_field",e.style.setProperty("--count-of-columns",this.settings.gameField.width),document.querySelector(".game-lobby").appendChild(e),this.gameField=new s.default(this.settings.gameField),this.gameField.fill()}},{key:"restart",value:function(){document.querySelector(".game-lobby").innerHTML="",this.gameField.gameTimer&&(this.gameField.gameTimer.stop(),this.gameField.gameTimer.reset()),this.createGameField()}}],[{key:"updateScoreList",value:function(){}}]),e}();t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,a=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw r}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var r=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.authorizationField=t.authorizationField,this.gameRulesModalWindow=t.gameRulesModalWindow,this.winnerModalWindow=t.winnerModalWindow,this.userProfile=t.userProfile,this.exitGameBtn=t.exitGameBtn,this.gameRulesBtn=t.gameRulesBtn,this.shirtsList=t.shirtsList,this.difficultysList=t.difficultysList,this.scoreTable=t.scoreTable,this.game=i,this.signIn=this.signIn.bind(this),this.selectUserProfileOptions=this.selectUserProfileOptions.bind(this),this.selectGameOptions=this.selectGameOptions.bind(this),this.shirtsList.addEventListener("click",this.selectGameOptions),this.difficultysList.addEventListener("click",this.selectGameOptions),this.userProfile.querySelector(".user_profile_menu").addEventListener("click",this.selectUserProfileOptions)}return a(e,[{key:"selectGameOptions",value:function(e){var t=e.target,i="."+this.difficultysList.className+"__item",n="."+this.shirtsList.className+"__item  ",a=t.closest(i)||t.closest(n);if(a){var r=a.parentNode.className,s=r+"__item--active";a.parentNode.querySelector("."+s).classList.remove(s),a.classList.add(s),this.game.gameField&&this.changeGameSettings(r)}}},{key:"changeGameSettings",value:function(e){var t=document.querySelector("."+e+"__item--active");switch(e){case"difficultys":this.game.settings.gameField.width=t.dataset.countOfColumns,this.game.settings.gameField.height=t.dataset.countOfRows,this.game.restart();break;case"shirts":this.game.gameField.setShirtCard(t.dataset.shirtName)}}},{key:"selectUserProfileOptions",value:function(e){switch(e.target.closest(".profile_menu_link").dataset.action){case"signOut":this.signOut()}}},{key:"saveUserCredentials",value:function(){var e={firstName:this.authorizationField.querySelector(".firstName-field").value,secondName:this.authorizationField.querySelector(".secondName-field").value,email:this.authorizationField.querySelector(".email-field").value};localStorage.setItem("user",JSON.stringify(e))}},{key:"showUserProfile",value:function(){var e=this.userProfile.querySelector(".profile_link__user_fullName"),t=JSON.parse(localStorage.getItem("user"));e.appendChild(document.createTextNode(t.firstName+" "+t.secondName)),this.userProfile.style.visibility="visible"}},{key:"showAuthorizationField",value:function(){document.querySelector(".game-lobby").appendChild(this.authorizationField)}},{key:"signIn",value:function(){this.saveUserCredentials(),this.showUserProfile(),this.authorizationField.remove()}},{key:"signOut",value:function(){localStorage.removeItem("user"),this.userProfile.querySelector(".profile_link__user_fullName").firstChild.remove(),this.userProfile.style.visibility="hidden",this.game.gameField.gameFieldDOM.remove(),this.game.gameField.gameTimer.isOn&&this.game.gameField.gameTimer.hide(),this.showAuthorizationField()}},{key:"initScoreList",value:function(){var e=JSON.parse(localStorage.getItem("scoreList"));if(e)for(var t=0;t<e.length;t++){var i=this.scoreTable.tBodies[0].insertRow(t);i.insertCell(0).innerHTML=e[t].fullName,i.insertCell(1).innerHTML=e[t].score,i.insertCell(2).innerHTML=e[t].time}}},{key:"initGameRulesModalWindow",value:function(){document.body.appendChild(this.gameRulesModalWindow),this.gameRulesBtn.addEventListener("click",this.changeModalWindowState.bind(this.gameRulesModalWindow,["expand","open"])),this.gameRulesModalWindow.addEventListener("click",this.changeModalWindowState.bind(this.gameRulesModalWindow,["collapse","close"]))}},{key:"initWinnerModalWindow",value:function(){document.body.appendChild(this.winnerModalWindow),this.winnerModalWindow.querySelector(".play_again_btn").addEventListener("click",this.changeModalWindowState.bind(this.winnerModalWindow,["runaway","close"]))}},{key:"changeModalWindowState",value:function(e){var t=n(e,2),i=t[0],a=t[1];switch(this.dataset.state=i,a){case"open":document.body.classList.add("modal-active");break;case"close":document.body.classList.remove("modal-active")}}}],[{key:"showWinnerModalWindow",value:function(){}}]),e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=[],t=!1,i=function(i){if(!t&&("readystatechange"!==i.type||"complete"===document.readyState)){for(var n=0;n<e.length;n++)e[n].call(document);t=!0,e=null}};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),document.addEventListener("readystatechange",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",i),window.attachEvent("onload",i));return function(i){t?i.call(document):e.push(i)}}();t.default=n},function(e,t,i){"use strict";var n=s(i(5)),a=s(i(4)),r=s(i(3));function s(e){return e&&e.__esModule?e:{default:e}}(0,n.default)(function(){var e=new r.default,t=new a.default({authorizationField:document.getElementById("authorization_doc").import.querySelector(".authorization-field"),gameRulesModalWindow:document.getElementById("game_rules_modal_doc").import.querySelector(".modal_window--game_rules"),winnerModalWindow:document.getElementById("winner_modal_doc").import.querySelector(".modal_window--winner"),userProfile:document.querySelector(".header__user_profile"),exitGameBtn:document.querySelector(".exit_game_button"),gameRulesBtn:document.querySelector(".game_rules_button"),shirtsList:document.querySelector(".shirts"),difficultysList:document.querySelector(".difficultys"),scoreTable:document.querySelector(".score_table")},e);t.initGameRulesModalWindow(),t.initWinnerModalWindow(),t.initScoreList(),localStorage.getItem("user")?(t.showUserProfile(),e.start()):(t.showAuthorizationField(),document.querySelector(".form-authorization").addEventListener("submit",function(){new Promise(function(e){t.signIn(),e("Vse ok")}).then(function(t){console.log("Fulfilled: "+t),e.start()})}))})}]);
//# sourceMappingURL=bundle.js.map